<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Oswald:wght@200;300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./css/main.css" />
    <title>Portfolio | Maria Eilertsen</title>
  </head>
  <body>
    <header>
      <div class="logo_container">
        <div class="logo">
          <a href="index.html"><h1>portfolio</h1></a>
        </div>
      </div>
      <div class="menu-btn">
        <span class="menu-btn__burger"></span>
      </div>
      <nav class="nav">
        <ul class="menu-nav">
          <li class="menu-nav__item">
            <a href="index.html" class="menu-nav__link"> Home </a>
          </li>
          <li class="menu-nav__item active">
            <a href="rainydays.html" class="menu-nav__link"> rainy days </a>
          </li>
          <li class="menu-nav__item">
            <a href="csm.html" class="menu-nav__link"> CSM </a>
          </li>
          <li class="menu-nav__item">
            <a href="exam.html" class="menu-nav__link"> Project Exam </a>
          </li>
        </ul>
      </nav>
    </header>
    <main>
      <section class="introduction_container">
        <h2>rainy days</h2>
        <a href="https://mystifying-tesla-245d57.netlify.app" class="button"
          >visit website</a
        >
        <div class="paragraph_container">
          <div class="text_column">
            <p>
              Lorem ipsum, dolor sit amet consectetur adipisicing elit. Aliquam
              omnis officiis saepe, libero animi unde at doloribus. Voluptas
              harum iusto, distinctio aperiam porro veritatis enim rem,
              praesentium nesciunt quisquam ut, similique numquam laudantium
              totam minus temporibus molestias dolorem repellendus corporis!
            </p>
            <p>
              Lorem ipsum, dolor sit amet consectetur adipisicing elit.
              Perspiciatis, quis.
            </p>
          </div>
          <div class="text_column">
            <p>
              Lorem ipsum, dolor sit amet consectetur adipisicing elit. Aliquam
              omnis officiis saepe, libero animi unde at doloribus. Voluptas
              harum iusto, distinctio aperiam porro veritatis enim rem,
              praesentium nesciunt quisquam ut, similique numquam laudantium
              totam minus temporibus molestias dolorem repellendus corporis!
            </p>
            <p>
              Lorem ipsum, dolor sit amet consectetur adipisicing elit.
              Perspiciatis, quis.
            </p>
          </div>
        </div>
        <div class="illustration_container">
          <img
            src="img/new_menu.jpg"
            alt="new menu to the website"
            class="image_styling"
          />
        </div>
      </section>
      <section class="introduction_container">
        <h4>cleaning up code and styling</h4>
        <div class="paragraph_container">
          <div class="text_column">
            <p>
              Lorem ipsum, dolor sit amet consectetur adipisicing elit. Aliquam
              omnis officiis saepe, libero animi unde at doloribus. Voluptas
              harum iusto, distinctio aperiam porro veritatis enim rem,
              praesentium nesciunt quisquam ut, similique numquam laudantium
              totam minus temporibus molestias dolorem repellendus corporis!
            </p>
            <p>
              Lorem ipsum, dolor sit amet consectetur adipisicing elit.
              Perspiciatis, quis.
            </p>
          </div>
          <div class="text_column">
            <p>
              Lorem ipsum, dolor sit amet consectetur adipisicing elit. Aliquam
              omnis officiis saepe, libero animi unde at doloribus. Voluptas
              harum iusto, distinctio aperiam porro veritatis enim rem,
              praesentium nesciunt quisquam ut, similique numquam laudantium
              totam minus temporibus molestias dolorem repellendus corporis!
            </p>
            <p>
              Lorem ipsum, dolor sit amet consectetur adipisicing elit.
              Perspiciatis, quis.
            </p>
          </div>
        </div>
        <div class="illustration_container">
          <img
            src="img/old_jacket_preview.jpg"
            alt="old jacket preview on rainy days"
            class="image_styling"
          />
          <img
            src="img/updated_jacket_preview.jpg"
            alt="updated jacket preview on rainy days"
            class="image_styling"
          />
        </div>
      </section>
      <section class="introduction_container">
        <h4>Add to cart and checkout</h4>
        <div class="paragraph_container">
          <div class="text_column">
            <p>
              Lorem ipsum, dolor sit amet consectetur adipisicing elit. Aliquam
              omnis officiis saepe, libero animi unde at doloribus. Voluptas
              harum iusto, distinctio aperiam porro veritatis enim rem,
              praesentium nesciunt quisquam ut, similique numquam laudantium
              totam minus temporibus molestias dolorem repellendus corporis!
            </p>
            <p>
              Lorem ipsum, dolor sit amet consectetur adipisicing elit.
              Perspiciatis, quis.
            </p>
          </div>
          <div class="text_column">
            <p>
              Lorem ipsum, dolor sit amet consectetur adipisicing elit. Aliquam
              omnis officiis saepe, libero animi unde at doloribus. Voluptas
              harum iusto, distinctio aperiam porro veritatis enim rem,
              praesentium nesciunt quisquam ut, similique numquam laudantium
              totam minus temporibus molestias dolorem repellendus corporis!
            </p>
            <p>
              Lorem ipsum, dolor sit amet consectetur adipisicing elit.
              Perspiciatis, quis.
            </p>
          </div>
        </div>
        <div class="illustration_container">
            <h4>Cart counter</h4>
            <pre><code>
                const cartCounter = document.querySelector("#cartCount");

                function updateCartCount(){
                    var cartContent = JSON.parse(localStorage.getItem("cartContent") || "[]");
                    cartCounter.innerHTML = cartContent.length
                }
                
                updateCartCount();        
                </code></pre>
                <h4>Preview and add to cart</h4>
                <pre><code>
                    const jacket = document.querySelector(".jacket");
                    const productTitle = document.querySelector("title").innerHTML = "Product details";
                    const price = document.querySelector(".price");
                    const info = document.querySelector(".all-info-text");
                    const title = document.querySelector(".product-title");
                    
                    const params = new URLSearchParams(window.location.search);
                    const productId = params.get("id");
                    const url = "https://ca.zenabi.no/wp-json/wc/store/products/" + productId;
                    
                    async function getProduct(url) {
                        const response = await fetch(url);
                        const product = await response.json();
                    
                    
                        price.innerHTML = product.prices.price + ",-"
                        info.innerHTML = product.description
                        title.innerHTML = product.name
                    
                        jacket.innerHTML += `
                        < div class="second-details">< img src="${product.images[0].src}" class="imgproduct"> < / div >
                        `;
                        const addTo = document.querySelector(".buttons-purchase");
                        addTo.onclick = (e) => addToCart(product);
                    }
                    
                    function addToCart(product) {
                        var cartContent = JSON.parse(localStorage.getItem("cartContent") || "[]");
                        cartContent.push(product);
                        localStorage.setItem("cartContent",JSON.stringify(cartContent));
                        updateCartCount(cartContent.length);
                    }
                    
                    function updateCartCount(count){
                        const cartCounter = document.querySelector("#cartCount");
                        cartCounter.innerHTML = count
                    }
                    
                    getProduct(url);                          
                    </code></pre>
                    <h4>Empty cart</h4>
                    <pre><code>
                        var sumTotal = 0;
                        const checkoutQuantity = document.querySelector("#quantity");
                        const cartProducts = document.querySelector("#cartProducts");
                        const cartEmpty = document.querySelector(".contact-press-empty")
                        var cartContent = JSON.parse(localStorage.getItem("cartContent") || "[]");
                        const continueShopping = document.querySelector(".empty_cart");
                        
                        function getCartContent() {
                            if (cartContent) { 
                                cartProducts.innerHTML = ``
                                sumTotal = 0;
                                for (const key in cartContent) {
                                    if (Object.hasOwnProperty.call(cartContent, key)) {
                                        const product = cartContent[key];
                                        sumTotal += parseInt(product.prices.price);
                                        const output = `
                                        < div>
                                            < img src="${product.images[0].src}" alt="purchased product" class="cartJacket">
                                            < h5 id="productTitle">${product.name}</ h5>
                                        </ div>
                                        `;
                                        cartProducts.innerHTML += output;
                                    }
                                }
                                if (checkoutQuantity) {
                                    checkoutQuantity.innerHTML = cartContent.length + " artikler";
                                    const total = document.querySelector("#total");
                                    total.innerHTML = sumTotal + " kr";   
                                }
                            }
                        }
                        
                        getCartContent();
                        
                        function emptyCart() {
                            localStorage.removeItem("cartContent");
                            cartContent = [];
                            getCartContent();
                            updateCartCount();
                        }
                        
                        if (cartEmpty) {
                            cartEmpty.onclick = emptyCart
                        }
                        if (continueShopping) {
                            continueShopping.onclick = emptyCart
                        
                        }
                        
                              
                        </code></pre>
      </section>
    </main>
    <script src="js/main.js"></script>
  </body>
</html>
